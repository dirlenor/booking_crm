# User Flows — 6CAT Booking CRM

---

## Flow 1: สร้าง Booking ใหม่ (Sales Team — Primary Flow)

> Flow หลักของระบบ — ต้องจบได้ภายใน 2-3 คลิก

```
Sales เปิดระบบ
    │
    ▼
┌─────────────┐     ┌──────────────────────────────────────────────┐
│  Dashboard  │────▶│  คลิก "New Booking" (Quick Action)           │
└─────────────┘     └──────────────────────────────────────────────┘
                         │
                         ▼
                    ┌─────────────────────────────────────────┐
                    │  Step 1: เลือกลูกค้า                      │
                    │  ┌─────────────────────────────────┐     │
                    │  │ 🔍 ค้นหาลูกค้า                    │     │
                    │  │    หรือ + สร้างลูกค้าใหม่ (inline) │     │
                    │  └─────────────────────────────────┘     │
                    └─────────────────────────────────────────┘
                         │
                         ▼
                    ┌─────────────────────────────────────────┐
                    │  Step 2: เลือกแพ็กเกจ + วันเดินทาง       │
                    │  ┌─────────────────────────────────┐     │
                    │  │ เลือก Package (แสดงโควต้าคงเหลือ)  │     │
                    │  │ เลือกวันเดินทาง                    │     │
                    │  │ จำนวนผู้เดินทาง                    │     │
                    │  └─────────────────────────────────┘     │
                    └─────────────────────────────────────────┘
                         │
                         ▼
                    ┌─────────────────────────────────────────┐
                    │  Step 3: สรุป + ยืนยัน                    │
                    │  ┌─────────────────────────────────┐     │
                    │  │ สรุปข้อมูลจอง                      │     │
                    │  │ ราคารวม                           │     │
                    │  │ หมายเหตุ (optional)                │     │
                    │  │                                   │     │
                    │  │ [ Cancel ]  [ Confirm Booking ✓ ] │     │
                    │  └─────────────────────────────────┘     │
                    └─────────────────────────────────────────┘
                         │
                         ▼
                    ┌─────────────────────────────────────────┐
                    │  ✅ Booking Created                      │
                    │  Status: Pending                        │
                    │  โควต้าถูกหัก                             │
                    │  → ไปหน้า Booking Detail                 │
                    └─────────────────────────────────────────┘
```

---

## Flow 2: บันทึกการชำระเงิน (Sales/Admin)

```
Sales เปิด Booking Detail
    │
    ▼
┌─────────────────────────────────────────────────┐
│  Booking Detail Page                            │
│  ┌───────────────────────────────────────────┐  │
│  │ Payment Section                           │  │
│  │ ยอดรวม: ฿15,000                           │  │
│  │ ชำระแล้ว: ฿0                              │  │
│  │ ค้างชำระ: ฿15,000                         │  │
│  │                                           │  │
│  │ [ Record Payment ]                        │  │
│  └───────────────────────────────────────────┘  │
└─────────────────────────────────────────────────┘
    │
    ▼ คลิก "Record Payment"
┌─────────────────────────────────────────────────┐
│  Modal: Record Payment                          │
│  ┌───────────────────────────────────────────┐  │
│  │ จำนวนเงิน: [___________]                  │  │
│  │ วิธีชำระ:  [ Bank Transfer ▾ ]            │  │
│  │ วันที่ชำระ: [___________]                  │  │
│  │ หมายเหตุ:  [___________]                  │  │
│  │                                           │  │
│  │ [ Cancel ]  [ Save Payment ✓ ]            │  │
│  └───────────────────────────────────────────┘  │
└─────────────────────────────────────────────────┘
    │
    ▼
┌───────────────────────────────┐
│  ระบบคำนวณสถานะอัตโนมัติ       │
│                               │
│  ชำระ < ยอดรวม → Partial      │
│  ชำระ = ยอดรวม → Paid         │
│                               │
│  Booking Status:              │
│  Partial/Paid → Confirmed     │
└───────────────────────────────┘
```

---

## Flow 3: จัดการลูกค้า (Sales Team)

```
┌──────────────┐     ┌────────────────────────────────────────┐
│ Sidebar:     │────▶│  Customer List                         │
│ Customers    │     │  ┌──────────────────────────────────┐  │
└──────────────┘     │  │ 🔍 Search    [Filter ▾]  [+ Add] │  │
                     │  │──────────────────────────────────│  │
                     │  │ Name    Phone    Tag    Bookings  │  │
                     │  │ สมชาย   081-xxx  VIP    3        →│  │
                     │  │ สมหญิง  089-xxx  -      1        →│  │
                     │  └──────────────────────────────────┘  │
                     └────────────────────────────────────────┘
                              │                    │
              คลิกชื่อลูกค้า ──┘                    └── คลิก [+ Add]
                              │                              │
                              ▼                              ▼
                     ┌─────────────────┐        ┌─────────────────┐
                     │ Customer Profile│        │ Drawer: Add     │
                     │                 │        │ ┌─────────────┐ │
                     │ ┌─ Info ──────┐ │        │ │ ชื่อ         │ │
                     │ │ ชื่อ, เบอร์   │ │        │ │ เบอร์โทร     │ │
                     │ │ Email, Tag  │ │        │ │ Email       │ │
                     │ └─────────────┘ │        │ │ Tag         │ │
                     │                 │        │ │ หมายเหตุ     │ │
                     │ ┌─ Bookings ──┐ │        │ │             │ │
                     │ │ รายการจอง    │ │        │ │ [Save ✓]    │ │
                     │ │ ทั้งหมด      │ │        │ └─────────────┘ │
                     │ └─────────────┘ │        └─────────────────┘
                     └─────────────────┘
```

---

## Flow 4: ดู Trip Schedule (Operation Team)

```
┌──────────────┐     ┌────────────────────────────────────────────────┐
│ Sidebar:     │────▶│  Trip Schedule                                 │
│ Trip Schedule│     │  ┌────────────────────────────────────────────┐│
└──────────────┘     │  │ ◀ January 2025 ▶        [Calendar] [List] ││
                     │  │────────────────────────────────────────────││
                     │  │ Mon  Tue  Wed  Thu  Fri  Sat  Sun         ││
                     │  │                1    2    3    4    5       ││
                     │  │                          ┌──┐             ││
                     │  │  6    7    8    9   │10│  11   12        ││
                     │  │                     │เชียงใหม่│             ││
                     │  │                     │3 คน │              ││
                     │  │                     └──┘               ││
                     │  │ 13   14   15   16   17   18   19        ││
                     │  │      ┌──────┐                           ││
                     │  │      │ภูเก็ต │                            ││
                     │  │      │8 คน  │                            ││
                     │  │      └──────┘                           ││
                     │  └────────────────────────────────────────────┘│
                     └────────────────────────────────────────────────┘
                              │
                              ▼ คลิกทริป
                     ┌────────────────────────────────────────────────┐
                     │  Trip Detail                                   │
                     │  ┌────────────────────────────────────────────┐│
                     │  │ 📦 Package: ทัวร์เชียงใหม่ 3 วัน 2 คืน       ││
                     │  │ 📅 วันที่: 10-12 Jan 2025                   ││
                     │  │ 👥 จำนวน: 3 คน                              ││
                     │  │ 💰 สถานะชำระ: Paid                          ││
                     │  │────────────────────────────────────────────││
                     │  │ รายชื่อลูกค้า:                                ││
                     │  │  1. สมชาย (2 คน) — Confirmed               ││
                     │  │  2. สมหญิง (1 คน) — Confirmed              ││
                     │  │────────────────────────────────────────────││
                     │  │ [P1] ไกด์: -          รถ: -                 ││
                     │  │ [P1] Checklist: 0/5 items                  ││
                     │  └────────────────────────────────────────────┘│
                     └────────────────────────────────────────────────┘
```

---

## Flow 5: จัดการ Tour Packages (Admin/Sales)

```
┌──────────────┐     ┌────────────────────────────────────────────────┐
│ Sidebar:     │────▶│  Tour Packages                                 │
│ Tour Packages│     │  ┌────────────────────────────────────────────┐│
└──────────────┘     │  │ 🔍 Search    [Status ▾]  [+ Add Package]  ││
                     │  │────────────────────────────────────────────││
                     │  │ ┌────────────┐ ┌────────────┐             ││
                     │  │ │ 🏔 เชียงใหม่  │ │ 🏖 ภูเก็ต    │             ││
                     │  │ │ 3วัน 2คืน   │ │ 4วัน 3คืน   │             ││
                     │  │ │ ฿8,900     │ │ ฿12,500    │             ││
                     │  │ │ โควต้า: 7/20│ │ โควต้า: 20/20│             ││
                     │  │ │ ● Active   │ │ ● Sold Out │             ││
                     │  │ └────────────┘ └────────────┘             ││
                     │  └────────────────────────────────────────────┘│
                     └────────────────────────────────────────────────┘
                              │                        │
              คลิก Package ───┘                        └── คลิก [+ Add]
                              │                                 │
                              ▼                                 ▼
                     ┌──────────────────┐          ┌──────────────────┐
                     │ Package Detail   │          │ Drawer: Add      │
                     │                  │          │ ┌──────────────┐ │
                     │ ข้อมูลแพ็กเกจ     │          │ │ ชื่อแพ็กเกจ    │ │
                     │ โควต้า + ที่เหลือ   │          │ │ รายละเอียด    │ │
                     │ วันเดินทาง        │          │ │ ราคา          │ │
                     │ ────────────     │          │ │ โควต้า         │ │
                     │ Bookings ที่ผูก   │          │ │ วันเดินทาง     │ │
                     │ กับแพ็กเกจนี้      │          │ │ สถานะ         │ │
                     │                  │          │ │              │ │
                     │ [Edit] [Deactivate]│         │ │ [Save ✓]     │ │
                     └──────────────────┘          │ └──────────────┘ │
                                                   └──────────────────┘
```

---

## Flow 6: Dashboard Overview (Admin — Daily Start)

```
Admin Login
    │
    ▼
┌─────────────────────────────────────────────────────────────────┐
│  Dashboard                                                      │
│                                                                 │
│  ┌───────────┐ ┌───────────┐ ┌───────────┐ ┌───────────┐      │
│  │ 📋 จองวันนี้ │ │ 💰 รายได้   │ │ 📅 ทริปสัปดาห์│ │ 👥 ลูกค้าใหม่│      │
│  │    5       │ │ ฿125,000  │ │ นี้  3     │ │    12      │      │
│  └───────────┘ └───────────┘ └───────────┘ └───────────┘      │
│                                                                 │
│  ┌─ Quick Actions ──────────────────────────────────────────┐  │
│  │ [+ New Booking]  [+ Add Customer]  [View Trip Schedule]  │  │
│  └──────────────────────────────────────────────────────────┘  │
│                                                                 │
│  ┌─ Recent Bookings ─────────────┐ ┌─ Upcoming Trips ───────┐ │
│  │ #B001 สมชาย  Confirmed  ฿8,900│ │ 10 Jan — เชียงใหม่ (3คน)│ │
│  │ #B002 สมหญิง Pending   ฿12,500│ │ 14 Jan — ภูเก็ต (8คน)  │ │
│  │ #B003 สมศักดิ์ Pending    ฿6,200│ │ 20 Jan — กระบี่ (5คน)  │ │
│  │                    [View All →]│ │               [View All →]│ │
│  └────────────────────────────────┘ └──────────────────────────┘ │
│                                                                 │
│  ┌─ Payment Alerts ─────────────────────────────────────────┐  │
│  │ ⚠ 3 Bookings ค้างชำระ                      [View All →]  │  │
│  └──────────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────────┘
```

---

## Cross-Flow Navigation (ข้ามหน้าได้เร็ว)

| จากหน้า | คลิกอะไร | ไปหน้า |
|---------|---------|--------|
| Dashboard | Recent Booking row | Booking Detail |
| Dashboard | Upcoming Trip | Trip Detail |
| Dashboard | "New Booking" | Create Booking |
| Customer Profile | Booking row ในประวัติ | Booking Detail |
| Booking Detail | ชื่อลูกค้า | Customer Profile |
| Booking Detail | ชื่อแพ็กเกจ | Package Detail |
| Package Detail | Booking row | Booking Detail |
| Trip Detail | ชื่อลูกค้า | Customer Profile |
| Trip Detail | Booking ID | Booking Detail |
| Payment List | Booking ID | Booking Detail |
